runtime: python
env: flex  # This specifies the Flexible Environment

entrypoint: gunicorn --workers 2 --worker-class gevent --timeout 120 --log-level info --bind :$PORT app:app

instance_class: F2  # Optional: If you want to specify a custom machine type
resources:
  cpu: 2            # Adjust CPU as needed
  memory_gb: 6      # Adjust memory as needed
  disk_size_gb: 10  # Adjust disk size as needed

automatic_scaling:
  min_num_instances: 1
  max_num_instances: 5
  target_cpu_utilization: 0.6
  target_throughput_utilization: 0.6

runtime_config:
  python_version: "3.10"

handlers:
- url: /static
  static_dir: static

- url: /.*
  script: auto

env_variables:
  CLOUD_STORAGE_BUCKET: olmstead-property-letters
  FLASK_SERVER: app
  FLASK_DEBUG: 0  # Ensure this is set to 0 for production
